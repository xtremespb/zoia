!function(e){e.fn.getSelected=function(t){var s=[];return e("."+t).each(function(){var t=e(this).attr("data");s.push(t)}),s},e.fn.shifty=function(t){var t=e.extend({className:"selected",select:function(){},unselect:function(){}},t);elems=e(this),last=null;var s=t.className;return e(this).each(function(){var l=e(this);this.onselectstart=function(){return!1},l.unbind("click").css({"-moz-user-select":"","-webkit-user-select":"","user-select":""}),l.click(function(i){if(!i.ctrlKey&&!i.shiftKey){if("undefined"!=typeof _dragdrop_action_taken&&_dragdrop_action_taken)return void(_dragdrop_action_taken=!1);elems.removeClass(s),e(this).addClass(s),t.unselect(elems),t.select(e(this)),last=elems.index(e(this))}i.ctrlKey&&(l.toggleClass(s),last=elems.index(l),t.unselect(elems),t.select(elems.filter("."+s))),i.shiftKey&&(first=elems.index(l),first<last?(elems.filter(":gt("+(first-1)+")").addClass(s),elems.filter(":lt("+first+"),:gt("+last+")").removeClass(s)):(elems.filter(":gt("+last+")").addClass(s),elems.filter(":lt("+last+"),:gt("+first+")").removeClass(s)),t.unselect(elems),t.select(elems.filter("."+s)))})})}}(jQuery);